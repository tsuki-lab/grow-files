var g=Object.create;var c=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var O=Object.getOwnPropertyNames;var D=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var S=t=>c(t,"__esModule",{value:!0});var x=(t,e,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of O(e))!N.call(t,s)&&s!=="default"&&c(t,s,{get:()=>e[s],enumerable:!(a=F(e,s))||a.enumerable});return t},r=t=>x(S(c(t!=null?g(D(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var h=r(require("cac"));var i=r(require("fs")),n=r(require("path")),m=r(require("inquirer")),f=async t=>{let e=q(t.templatesDir),s=await j(t,[{type:"input",message:"What's outputFileName",name:"outputFileName",default:"index"},{type:"list",name:"template",message:"Choose A Template.",choices:e}]),o=n.join(t.templatesDir,s.template),p=v(o,s.outputDir,s.outputFileName);C(p)};async function j(t,e){let a=JSON.parse(JSON.stringify(t));return await(0,m.prompt)(e).then(s=>{a.outputFileName=s.outputFileName,a.template=s.template}),a}function q(t){return i.readdirSync(t).filter(e=>{let a=n.join(t,e);return i.statSync(a).isDirectory()})}function v(t,e,a){return i.readdirSync(t).filter(o=>{let p=n.join(t,o);return i.statSync(p).isFile()}).reduce((o,p)=>{let l=n.join(t,p),d=n.extname(l),y=i.readFileSync(l,"utf-8");return o.push({path:n.join(e,a+d),data:y.replace(/\$FILE_NAME/g,a)}),o},[])}function C(t){t.forEach(e=>{i.writeFileSync(e.path,e.data,"utf-8")})}var u=(0,h.default)();u.command("").option("-o, --output-dir <path>","converted file output path",{default:"./"}).option("-t, --templates-dir <path>","Selected templates dir",{default:"./templates"}).action(async(t,e)=>{let a={outputDir:e.outputDir,outputFileName:"",templatesDir:e.templatesDir,template:""};await f(a)});u.help();u.version("0.0.1");u.parse();
